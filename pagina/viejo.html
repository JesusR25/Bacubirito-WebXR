<!DOCTYPE html>
<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/dev/aframe/build/aframe-ar.js"></script>
<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
<script src="https://raw.githack.com/fcor/arjs-gestures/master/dist/gestures.js"></script>

<style>
    .button {
      background-color: #4CAF50; 
      border: none;
      color: white;
      padding: 7px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 12px;
      margin: 4px 2px;
      cursor: pointer;
      border-radius: 12px;
      border: 2px solid rgba(9, 148, 28, 0.541);
      box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);
    }
    
    </style>
  <div style='top: 10px;text-align: center; z-index: 1;'>
      <button class="button" id="btn1">Play Sound</button>
      <button class="button" id="btn2">Stop Sound</button>
      <button class="button" id="btn3">Stop Video</button>
      <button class="button" id="btn4">Play Video</button>
    </div>

    <meta name="apple-mobile-web-app-capable" content="yes">


<script>
AFRAME.registerComponent('for_a_marker', {
    init: function () {
        var text = document.querySelector('#text');
        var video = document.querySelector('#videoControls');
        var pausaimg = document.querySelector('#videoPause');
        var text2 = document.querySelector('#text1');
        video.addEventListener("click", function (evt) { //or you could do "mouseenter" [event](https://aframe.io/docs/0.9.0/components/cursor.html#events)
            alert("Inicio");
            document.querySelector("#compo").play();
        });
        pausaimg.addEventListener("click", function (evt) { //or you could do "mouseenter" [event](https://aframe.io/docs/0.9.0/components/cursor.html#events)
            alert("Pausa");
            document.querySelector("#compo").pause();
        });

    }
});

</script>



<body style='margin : 0px; overflow: hidden; font-family: Monospace;'>

    <a-scene embedded arjs='debugUIEnabled: false; sourceType: webcam' vr-mode-ui='enabled: false' gesture-detector>
        <a-assets timeout="30000">
            <a-asset-item id="spinosaurus" src="../assets/Meteorito MariJess.glb" ></a-asset-item>
              <video id="mivideo" src="../assets/composicion.mp4" loop="true"></video>
              <a-asset-item id="bowser" src="https://cdn.glitch.com/06bd98b4-97ee-4c07-a546-fe39ca205034%2Fbowser.glb"></a-asset-item>
              <!-- Esto es un comentario  position="-1 0 1"-->
        </a-assets>
        <a-entity cursor="rayOrigin: mouse" raycaster="objects: .intersectable; useWorldCoordinates: true;"></a-entity>

         <!-- VIDEOOOOOOOOOOOOOO COMPOSICION -->
        <a-marker preset="hiro"  >
            <a-video src="#mivideo" class="intersectable" width="5" height="2" rotation="270 0 0" position="0 0 0" scale="0.5 0.5 0.5" ></a-video>
           
           <script> 
              var m = document.querySelector("a-marker")
              m.addEventListener("markerFound", (e)=>{
              //console.log("found");
              var v = document.querySelector('#mivideo').play();
           
        
        })
              m.addEventListener("markerLost", (e)=>{
              //console.log("lost");
              var v = document.querySelector('#mivideo').pause();
          
        })
        
        
        document.getElementById("btn1").addEventListener("click", (e)=>{
        
          var v = document.querySelector('#mivideo').muted=false;
        })
        document.getElementById("btn2").addEventListener("click", (e)=>{
        
          var v = document.querySelector('#mivideo').muted=true;
        })
        document.getElementById("btn3").addEventListener("click", (e)=>{
        
          var v = document.querySelector('#mivideo').pause();
        })
        document.getElementById("btn4").addEventListener("click", (e)=>{
        
          var v = document.querySelector('#mivideo').play();
        })
             </script>
        </a-marker>
        <!-- VIDEOOOOOOOOOOOOOO COMPOSICION -->



    <a-marker
        type='pattern' url='pattern-Willamette.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        id="markerA" >
        <a-entity
            id="bowser-model"
            gltf-model="#spinosaurus"
            position="0 0 0"
            scale="0.5 0.5 0.5"
            class="clickable"
            gesture-handler >
        </a-entity>
  </a-marker> 

    </a-scene>
</body>
</html>