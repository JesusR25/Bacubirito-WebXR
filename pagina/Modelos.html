<!DOCTYPE html>
<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/dev/aframe/build/aframe-ar.js"></script>
<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
<script src="https://raw.githack.com/fcor/arjs-gestures/master/dist/gestures.js"></script>
<script src="../js/cursor.js" defer></script>
<script>
    AFRAME.registerComponent('color-randomizer', {
        init: function () {
        const modelList = ["cobalto", "niquel", "Hierro", "azufre"];
        let idx = 0;
        var el = this.el;
        //Variables
        let introduccion='El meteorito de bacubirito esta compuesto por 4 elementos. Haga click en la esfera para ver cada uno de ellos.';
        let textazu = 'El meteorito de Bacubirito contiene un 0.005% de Azufre.';
        let textcob = 'El meteorito de Bacubirito tambien contiene un 0.21% de Cobalto.';
        let texthie = 'El meteorito de Bacubirito contiene un 88.94% de Hierro.';
        let textniq = 'El meteorito de Bacubirito contiene un 6.98% de Niquel.';
        const listtext = [textcob,textniq,texthie,textazu];
        //Evento click
        document.querySelector("#footer").innerHTML = `#${introduccion}`;
          el.addEventListener('click', (e) => {
            el.removeAttribute('gltf-model');
            el.setAttribute('gltf-model', `#${modelList[idx]}`) 
            document.querySelector("#footer").innerHTML = `#${listtext[idx]}`;
            idx = (idx + 1) % modelList.length;
          });
        }
      });
</script>

<style>
    #footer {
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translate(-50%,-50%);
        background-color: rgb(0, 0, 0, 0.8);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        font-size: 10px;
    }
</style>

    <meta name="apple-mobile-web-app-capable" content="yes">



<body style='margin : 0px; overflow: hidden; font-family: Monospace;'>
    <div id="footer"></div>
    <a-scene id="esc" embedded arjs='debugUIEnabled: false; sourceType: webcam' vr-mode-ui='enabled: false'
     >
        <a-assets timeout="30000">
            <a-asset-item id="spinosaurus" src="../assets/Bueno Posicion.glb" ></a-asset-item>
            <a-asset-item id="cobalto" src="../assets/EsfTamCob.glb" ></a-asset-item>
            <a-asset-item id="Hierro" src="../assets/EsfTamHie.glb" ></a-asset-item>
            <a-asset-item id="azufre" src="../assets/EsfTamAzu.glb" ></a-asset-item>
            <a-asset-item id="niquel" src="../assets/EsfTamNiq.glb" ></a-asset-item>
            <a-asset-item id="bowser" src="https://cdn.glitch.com/06bd98b4-97ee-4c07-a546-fe39ca205034%2Fbowser.glb"></a-asset-item>
            <!-- Esto es un comentario  position="-1 0 1"-->
              <!-- Esto es un comentario  position="-1 0 1"-->
        </a-assets>
    <!--    <a-entity cursor="rayOrigin: mouse" raycaster="objects: .intersectable; useWorldCoordinates: true;"></a-entity>-->
        

    <a-marker
        type='pattern' url='../assets/pattern-Willamette.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        color-randomizer
        id="markerA" >
        <a-entity
            id="cobalto"
            gltf-model="#cobalto"
            position="0 0 0"
            scale="1 1 1"
            class="clickable"
            rotation="0 0 0"
             >
        </a-entity>
    </a-marker> 

    <a-marker
        type='pattern' url='../assets/pattern-Ahnighito.patt'
        raycaster="objects: .clickable"
        emitevents="true"
        cursor="fuse: false; rayOrigin: mouse;"
        id="markerRA" >
        <a-entity class="clickable" gesture-handler>
            <a-entity
            id="bmo"
            gltf-model="#bowser"
            scale="0.05 0.05 0.05"
            position="0 0 0"
            class="clickable" 
            >
        </a-entity>
        </a-entity>
    </a-marker> 
  
  <a-entity camera></a-entity>
  
    </a-scene>
</body>
</html>